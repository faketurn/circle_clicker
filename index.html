<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Circle Clicker</title>
<link rel="stylesheet" href="css/style.css">
<!--<script type="text/javascript" src="js/clicker.js"></script>-->
</head>
<body>
<h1>Circle Clicker</h1>

<p id="click"><i>0</i> クリック</p>
<button id="clickbutton">Click!</button>

<h2 title="あなたのクリックを肩代わり">お店</h2>
<ol>
<li id="finger" title="1秒あたり0.1回クリック"><i id="finger_i">15</i><small>クリック</small> 指先</li>
<li id="granma" title="1秒あたり1回クリック"><i id="granma_i">100</i><small>クリック</small> おばあさん</li>
<li id="farm" title="1秒あたり17回クリック"><i id="farm_i">670</i><small>クリック</small> 農場</li>
<li id="factory" title="1秒あたり120回クリック"><i id="factory_i">9300</i><small>クリック</small> 工場</li>
</ol>



<script type="text/javascript">

var amount = 0
var finCost = 15
var finCostPlus = 1
var finNum = 0
var granmaCost = 100
var granmaCostPlus = 13
var granmaNum = 0

function clickCounter() {
    amount++
    document.getElementById('click').getElementsByTagName('i')[0].innerHTML = amount
    // document.getElementById('finger_i').innerHTML = finger
    console.log(document.getElementById('finger_i').innerHTML)
    if (document.getElementById('finger_i').innerHTML <= amount) {
        var fi = document.getElementById('finger')
        fi.style.opacity = '1'
        fi.style.cursor = 'pointer'
        fi.style.background = '#eee'
    }
}
var el_clickbutton = document.getElementById('clickbutton')
el_clickbutton.addEventListener('click', clickCounter, false)


function clickFinger() {
    if (amount < finCost) {
        return
    }
    amount -= finCost
    document.getElementById('click').getElementsByTagName('i')[0].innerHTML = amount
    finCost += finCostPlus
    finCostPlus++
    
    document.getElementById('finger_i').innerHTML = finCost
    if (document.getElementById('finger_i').innerHTML > amount) {
        var fi = document.getElementById('finger')
        fi.style.opacity = '.3'
        fi.style.cursor = 'default'
    }
    finNum++
}
var el_clickfinger = document.getElementById('finger')
el_clickfinger.addEventListener('click', clickFinger, false)


finBonus()
function finBonus() {
    var cl = document.getElementById('click').getElementsByTagName('i')[0]
    amount += finNum
    cl.innerHTML = amount
    
    // 購入したアイテムが動いてるかを見える化
    if (finNum > 0) {
        // TODO
    }
    setTimeout('finBonus()', 10000)
}



</script>
</body>
</html>
